<ion-view view-title="{{params.name === 'New Trip' ? 'Schedule' : params.name}}">
  <ion-nav-buttons side="secondary">
    <button class="button icon ion-compose" ng-click="newTrip()"></button>
    <button class="button icon ion-ios-heart-outline" ng-click="saveTrip()"></button>
  </ion-nav-buttons>
  <ion-content>
    <div ng-if="noLocation">
      <ion-item class="item item-assertive" style="text-align:center">
        Unable to retrieve current location.
      </ion-item>
    </div>
    <div class="list">
      <div class="item item-input-inset">
        <label class="item-input-wrapper">
          <span class="input-label">Origin</span>
          <input id="origin-input" class="user-input location-typeahead" type="text" placeholder="Enter an origin location" ng-model="params.origin.name" ng-focus="disableTap()" />
        </label>
        <i ng-class="params.destinationOnly ? 'ion-pinpoint positive' : 'ion-pinpoint'"
          style="font-size: 120%; margin-left: 1%"
          ng-click="params.destinationOnly = !params.destinationOnly; updateOrigin();">
        </i>
      </div>
      <div class="item item-input-inset">
        <label class="item-input-wrapper">
          <span class="input-label">Destination</span>
          <input id="destination-input" class="user-input location-typeahead" type="text" placeholder="Enter a destination location" ng-model="params.destination.name" ng-focus="disableTap()" />
        </label>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label class="item item-input item-select">
          <div class="input-label">
            Time of
          </div>
          <select ng-model="$parent.params.time.type" ng-change="$parent.updateASAP(false)">
            <option>Departure</option>
            <option>Arrival</option>
          </select>
        </label>
        <!-- <ion-checkbox ng-model="params.time.asap" ng-change="updateASAP()">Now</ion-checkbox> -->
        <label class="item item-input item-select">
          <div class="input-label">
            When to go:
          </div>
          <select ng-model="$parent.params.time.asap" ng-options="option.isASAP as option.title for option in asapOptions" ng-change="openDatePicker()"></select>
            <!-- <option ng-value="true" selected>Now</option>
            <option ng-value="false">DateTime</option> -->
        </label>

      </div>
      <button class="button button-positive icon ion-calendar" ng-click="openDatePicker(true)"></button>
    </div>
    <div class="input-div center-div">
      <button ng-click="getRoute()" id="route-button" class="user-input trip-button">Search Schedule</button>
      <button ng-click="saveTrip()" class="user-input trip-button" ng-if="params.destinationOnly">Save Destination</button>
    </div>
  <div id="directions-map" ng-show="route !== undefined"></div>
  <div class="input-div">
  </div>
  <div id="route" ng-if="route.origin != null">
    <div style="margin: 30px">
      <b>Origin:</b> {{route.origin}}
      <br>
      <b>Destination:</b> {{route.destination}}
      <br>
      <b>Departure Time:</b> {{route.departureTime}}
      <br>
      <b>Arrival Time:</b> {{route.arrivalTime}}
    </div>
    <ion-list>
    <ion-item class="item-text-wrap" ng-repeat="direction in route.directions" >
    <p><b>{{direction}}</b></p>
    </ion-item>
    </ion-list>
  </div>
  </ion-content>
</ion-view>
